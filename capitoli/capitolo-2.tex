% !TEX encoding = UTF-8
% !TEX TS-program = pdflatex
% !TEX root = ../tesi.tex

%**************************************************************
\chapter{Lo stage}
\label{cap:descrizione-stage}
%**************************************************************

\intro{Nel seguente capitolo verrà descritto in dettaglio la proposta di stage accetta, indicandone gli obiettivi, la pianificazione delle attività, i prodotti attesi e gli strumenti e tecnologie utilizzate durante lo stage, e infine, verranno esposte le motivazioni per cui ho scelto questo stage.}\\

%**************************************************************
\section{Descrizione dello stage}
Lo stage era legato al progetto interno dell'azienda denominato "Azzurra.flow". Tale progetto nasceva dall'esigenza dell'azienda AzzurroDigitale di offrire un prodotto più completo ai propri clienti che andasse ad affiancare la piattaforma \gls{AWMS}. Perciò era stato deciso di implementare un’applicazione \emph{mobile} che potesse comunicare con la piattaforma \gls{AWMS}, dando un mezzo di supporto al lavoratore di una azienda manifatturiera. All'interno di essa doveva essere implementato una \emph{chat bot} con un \gls{bot}\ap{[g]} denominato "Azzurra" che offrisse funzionalità di supporto al lavoratore. All'interno del progetto era anche previsto le implementazioni necessarie per la comunicazione tra \gls{AWMS} e l'applicazione \emph{mobile}, quindi la gestione di una connessione attraverso \gls{WebSocket}\ap{[g]} e la creazione della componente Azzurra.io, la quale ha il compito di tenere memorizzati i flussi conversazionali esistenti e di inviarli a Azzurra quando li richiede, per sapere che messaggi devono essere generati. Inoltre Azzurra.io ha il compito di fare da tramite tra l'applicazione \emph{mobile} e \gls{AWMS}.\\
Partendo dal progetto "Azzurra.flow" è stato creato lo stage da me sostenuto, il quale era composto da attività che andassero a contribuire allo sviluppo del progetto. \\
Lo stage è stato costruito inserendo le seguenti parti:

\begin{itemize}
	\item Nella prima parte era stato pianificato lo studio delle tecnologie che sarebbero state utilizzate durante lo stage e nella contribuzione dello sviluppo del progetto "Azzurra.flow". Lo studio autonomo delle tecnologie era supportato da video lezioni della piattaforma di \emph{e-learning} Udeny, offerte dall'azienda;
	\item La seconda parte era dedicata allo studio del funzionamento dell'\gls{architettura}\ap{[g]} del sistema che permette l'esecuzione di Azzurra, in particolare il funzionamento dei metodi del motore conversazionale denominato Azzzura Flow Engine e in più come esercitazione, era richiesto la creazione di alcuni \gls{test e2e}\glsfirstoccur per la parte \gls{front-end}\glsfirstoccur del sistema, quindi l'implementare di \emph{test} per la \emph{dashboard} di \gls{AWMS};
	\item La terza parte era dedicata all'analisi, progettazione e implementazione di alcuni flussi di conversazione per il \gls{bot}\ap{[g]} Azzurra;
	\item La quarta parte era dedicata alla stesura della documentazione per la \emph{Solution Design} di Azzurra;
	\item La quinta parte sulle basi che si era imparato nella seconda parte, era previsto lo sviluppo di una test-suite di \gls{test e2e}\glsfirstoccur, con l'obiettivo di testare in modo automatizzato, se le funzionalità dell'applicazione \emph{mobile} funzionassero in modo corretto;
	\item Infine, nella sesta parte era dedicata allo studio di alcuni aspetti dell'applicazione \emph{mobile} che sono:
		\begin{itemize}
			\item La gestione delle notifiche push;
			\item Il \emph{template} engine multi-lingua;
			\item La gestione comportamenti \emph{mobile} \emph{application} in condizioni di mancanza di connettività.
		\end{itemize}
\end{itemize}



%**************************************************************
\section{Obiettivi}

\subsection{Classificazione}
Di seguito viene riportato il piano di lavoro per il progetto di stage dell'anno accademico 2019/2020 svolto presso l'azienda AzzurroDigitale.
Si farà riferimento ai requisiti secondo le seguenti notazioni:
\begin{itemize}
	\item \textit{OB-x} per i requisiti obbligatori, vincolanti in quanto obiettivo primario richiesto dal committente;
	\item \textit{OD-x} per i requisiti desiderabili, non vincolanti o strettamente necessari,
	ma dal riconoscibile valore aggiunto;
	\item \textit{OF-x} per i requisiti facoltativi, rappresentanti valore aggiunto non strettamente competitivo.
\end{itemize}
Dove x è un numero progressivo intero maggiore di zero.

\subsection{Definizione degli obiettivi}
Era previsto lo svolgimento dei seguenti obiettivi:
\subsubsection*{Obbligatori}
\begin{itemize}
 \item \textbf{OB-1}: competenza nello sviluppo delle singole attività identificate con i linguaggi \gls{PHP} e Typescript.
\end{itemize}
\subsubsection*{Desiderabili} 
\begin{itemize}
 \item \textbf{OD-1}: capacità autonoma di analisi delle singole attività delle soluzioni tecniche viste durante il progetto;
\item \textbf{OD-2}: capacità autonoma di progettazione delle singole attività delle soluzioni tecniche viste durante il progetto.
\end{itemize}

%**************************************************************
\section{Prodotti attesi}
Durante lo stage era atteso lo sviluppo dei seguenti \emph{deliverable}:
\begin{itemize}
	\item \textbf{Analisi tecnica}: Descrizione dell’analisi svolta e soluzione identificata, sarà redatta sulla piattaforma documentale aziendale Confluence;
	\item \textbf{Software}: Implementazione \emph{software} della soluzione identificata, redatta con l’IDE di sviluppo identificato per il progetto e depositata sul \emph{repository} GitLab di riferimento.
\end{itemize}

%**************************************************************
\section{Modalità di svolgimento del lavoro}
Lo stage è stato svolto in presenza negli uffici di AzzurroDigitale rispettando tutte le norme sul distanziamento sociale. L'orario di lavoro è stato dalle 9:00 fino alle 13:00 e dalle 14:00 fino alle 18:00. Durante lo stage sono stato inserito in un gruppo di sviluppatori, i quali fornivano una azione di supporto e guida nel caso in cui sorgevano difficoltà nel proseguimento delle attività di stage. Nonostante ciò ero comunque seguito anche dal mio tutor aziendale non che \emph{team leader} del gruppo di sviluppatori, il quale esplicitava i \emph{task} che dovevo realizzare e gli obiettivi attesi nello svolgimento di ogni \emph{task}. 

Durante lo stage per gestire le attività di progetto è stato utilizzato il modello agile \gls{SCRUM}\glsfirstoccur, modello adottato dall'azienda per gestire i propri progetti.
Vi erano quindi le seguenti attività:
\begin{itemize}
	\item \emph{Daily meeting} mattutino, della durata di circa 15 minuti, dove venivano discussi i \emph{task} della giornata, ed eventuali problemi bloccanti;
	\item \emph{Weekly review} dove venivano analizzate e discusse le attività che dovevo svolgere nella settimana successiva.
\end{itemize}

Infine, durante lo stage era mio compito redirige un registro su cui, quotidianamente, segnare le attività svolte.

\section{Pianificazione del lavoro}

Di seguito viene mostrato in dettaglio la pianificazione delle attività per i mesi di Luglio, Agosto e Settembre.
Per ognuna delle seguenti attività è stato chiesto di:
\begin{itemize}
	\item Leggere e comprendere l’analisi funzionale;
	\item Analizzare, progettare e documentare la soluzione tecnica identificata;
	\item Contribuire all’implementazione della soluzione tecnica;
	\item Contribuire all’implementazione ed all’esecuzione \emph{test} e \emph{bugfix}.
\end{itemize}

\subsection{Pianificazione settimanale}
Di seguito viene riportata la pianificazione completa, basata su 320 ore, delle attività svolte durante lo stage:
\begin{trivlist}
	\item \subsubsection{Prima Settimana 01/07-03/07 (24 ore)}   
	\begin{itemize}
		\item \textbf{Formazione Angular}: corso Udemy + \emph{review} di alcuni componenti di \gls{AWMS};
		\item \textbf{Formazione Ionic}: corso Udemy + \emph{review} di alcuni componenti di \gls{AWMS} Azzurra (\emph{mobile} app).
	\end{itemize}  

\item \subsubsection{Seconda Settimana 06/07-10/07 (40 ore)}
\begin{itemize}
	\item \textbf{Formazione NestJS}: corso Udemy + \emph{review} di alcuni componenti di “Azzurra” già sviluppati;
	\item \textbf{End-to-end testing}: (Selemium + Protractor + Cucumber) lato \gls{front-end}\ap{[g]};
	\item \textbf{End-to-end testing}: (Appium + Protractor + Cucumber) lato \emph{mobile} \emph{application}.
\end{itemize}

\item \subsubsection{Terza Settimana 13/07-17/07 (40 ore)}
\begin{itemize}
	\item Approfondimenti architetture a \emph{micro-services} e loro implementazione in \gls{AWMS} \emph{Platform};
	\item Analisi implementazione di un \emph{conversational flow};
	\item Software selection (con test/poc) per lo sviluppo di un \emph{conversational flow}.
\end{itemize}	

\item \subsubsection{Quarta Settimana 20/07-24/07 (40 ore)}
\begin{itemize}
	\item Contributi alla redazione della \emph{Solution Design} di “Azzurra”;
	\item Contributi alla documentazione sorgenti di “Azzurra” (\gls{front-end}\ap{[g]}/\gls{back-end}\glsfirstoccur).
\end{itemize}

\item \subsubsection{Quinta Settimana 27/07-31/07 (40 ore)}
\begin{itemize}
	\item \emph{Review} di alcuni componenti di \gls{AWMS};
	\item Aspetti di scalabilità di un \emph{flow-engine} (concorrenzialità, persistenza/storicizzazione messaggi)
\end{itemize}

\item \subsubsection{Sesta Settimana 03/08-07/08 (40 ore)}
\begin{itemize}
	\item Contributi alla redazione della \emph{Solution Design} di “Azzurra”;
	\item Implementazione \emph{Push Notifications} (lato \emph{mobile} \emph{application});
	\item Implementazione \emph{Push Notifications} (lato \gls{back-end}\ap{[g]}).
\end{itemize}

\item \subsubsection{Settima Settimana 17/08-21/08 (40 ore)}
\begin{itemize}
	\item Progettazione e documentazione \emph{template engine} multi-lingua;
	\item Implementazione \emph{template engine} multi-lingua (l’assistente virtuale dovrà avere il supporto multi-lingua) basato su sintassi “mustache”.
\end{itemize}	

\item \subsubsection{Ottava Settimana 24/08-28/08 (40 ore)}
\begin{itemize}
	\item Gestione comportamenti \emph{mobile} \emph{application} in condizioni di mancanza di connettività (\emph{corner cases}, messaggi di \emph{feedback}, \emph{landing pages}).
\end{itemize}

\item \subsubsection{Nona Settimana 31/08-01/09 (16 ore)}
\begin{itemize}
	\item Continuazione ottava settimana.
\end{itemize}
\end{trivlist}\clearpage
Di seguito viene riportata una tabella riassuntiva della pianificazione:

\begin{table}[h]%
	\rowcolors{2}{grigetto}{white}
	\renewcommand{\arraystretch}{1.5}
	\centering
\begin{tabularx}{\textwidth}{c c X}
	\hline	
	\rowcolor{SchoolColor}
	\textcolor{white}{\textbf{Durata in ore}} & \textcolor{white}{\textbf{Date (inizio - fine)}} & \textcolor{white}{\textbf{Attività}} \\	
	\hline			
	24 &  01/07/2020 - 03/07/2020 & Studio delle tecnologie, Angular 2+ e Ionic, da utilizzare durante lo stage.\\

	40 &  06/07/2020 - 10/07/2020 & Studio di componenti del dell'architettura di sistema di Azzurra, creazione di \emph{test} per la \emph{dashboard} di \gls{AWMS} e per l'applicazione \emph{mobile}. \\

	40 &  13/07/2020 - 17/07/2020 & Continuazione studio delle componenti del sistema di Azzurra e analisi, progettazione e implementazione di flussi conversazionali.\\

	40 &  20/07/2020 - 24/07/2020 & Scritture di documentazione per le componenti di Azzurra.\\

	40 &  27/07/2020 - 31/07/2020 & Continuazione di altre componenti di \gls{AWMS}.\\

	40 &  03/08/2020 - 07/08/2020 & Documentazione delle componenti \gls{AWMS} e implementazione \emph{notifiche push}.\\

	40 &  17/08/2020 - 21/08/2020 & Progettazione, implementazione e documentazione di \emph{template engine} multi-lingua.\\

	40 &  24/08/2020 - 28/08/2020 & Studio della gestione dei comportamenti \emph{mobile} \emph{application} in condizioni di mancanza di connettività.\\

	16 &  31/08/2020 - 01/09/2020 & Continuazione ottava settimana. \\
	\hline
\end{tabularx} \hbox{}

\caption{Tabella del tracciamento dei requisiti qualitativi}
\end{table}%

\section{Variazioni}
La creazione di test \gls{test e2e}\ap{[g]} per l'applicazione \emph{mobile} è stata sposta alla quinta settimana per poter testare anche i flussi di conversazione implementati per la chat con Azzurra. I test \gls{test e2e}\ap{[g]} per la parte \gls{front-end}\ap{[g]},sono stati regolarmente svolti nella seconda settimana come pianificato. Non è stato possibile effettuare l'implementazione delle \emph{notifiche push} a causa di esigenze aziendali cioè, l'azienda aveva l'esigenza di avere già subito implementate le \emph{notifiche push}, cosi sono state implementante dai membri dell'azienda. L'attività è stata sostituita dall'attività di documentazione delle \emph{notifiche push}.

\section{Strumenti e tecnologie utilizzate}

\subsection{Tecnologie}

\subsubsection*{HTML}
L'\gls{HTML}\glsfirstoccur è un \gls{linguaggio di markup}\glsfirstoccur per la strutturazione delle pagine web. Nato per la formattazione e impaginazione di documenti ipertestuali disponibili nel web 1.0, oggi è utilizzato principalmente per il disaccoppiamento della struttura logica di una pagina web. Attualmente \gls{HTML}5 è l'ultima versione di \gls{HTML} la quale porta una sintassi più semplice e un pieno supporta anche a browser più datati.

\subsubsection*{CSS}
Il \gls{CSS}\glsfirstoccur è un linguaggio usato per definire la formattazione di documenti \gls{HTML}, \gls{XHTML}\glsfirstoccur e \gls{XML}\glsfirstoccur ad esempio i siti web e relative pagine web. Permette una programmazione più chiara e facile da utilizzare, sia per gli autori delle pagine stesse sia per gli utenti, garantendo anche il riutilizzo di codice e facilita la manutenzione. Le specifiche \gls{CSS}3 sono costituite da sezioni separate dette "moduli" e hanno differenti stati di avanzamento e stabilità.

\subsubsection*{TypeScript}
È un linguaggio di programmazione \gls{open-source}\ap{[g]} che estende la sintassi di JavaScript in modo che qualunque programma scritto in JavaScript sia anche in grado di funzionare con TypeScript senza nessuna modifica. Come JavaScript è un linguaggio di programmazione orientato agli oggetti e agli eventi, comunemente utilizzato nella programmazione Web lato \gls{client}\glsfirstoccur per la creazione, in siti web e applicazioni web, di effetti dinamici interattivi tramite funzioni di \emph{script} invocate da eventi innescati a loro volta in vari modi dall'utente sulla pagina web in uso.

\subsubsection*{Angular 2+}
Angular è un \gls{framework}\ap{[g]} \gls{open-source}\ap{[g]} per lo sviluppo di applicazioni web con \gls{licenza MIT}\ap{[g]}, sviluppato principalmente da Google. Angular è l'evoluzione di AngularJS infatti, è stato completamente riscritto rispetto a AngularJS e le due versioni non sono compatibili. Il linguaggio di programmazione usato per AngularJS è JavaScript mentre quello di Angular è TypeScript. Angular è stato progettato per fornire uno strumento facile e veloce per sviluppare applicazioni che girano su qualunque piattaforma inclusi \emph{smartphone} e \emph{tablet}. Inoltre le applicazioni sviluppate in Angular vengono eseguite interamente dal \gls{browser web}\ap{[g]} dopo essere state scaricate dal web \gls{server}\ap{[g]}. Questo comporta il risparmio di dover spedire indietro la pagina web al web \gls{server}\ap{[g]} ogni volta che c'è una richiesta di azione da parte dell'utente. 

\subsubsection*{Ionic}
Ionic è un \gls{sdk} \gls{open-source}\ap{[g]} che fornisce strumenti e servizi per lo sviluppo di un'\gls{applicazione ibrida}\ap{[g]} mobili, desktop e \emph{progressive} basate su moderne tecnologie e pratiche di sviluppo web, utilizzando tecnologie web come \gls{CSS}3, \gls{HTML}5 e \gls{Sass}. Permette di essere utilizzato con qualsiasi \gls{framework}\ap{[g]} per lo sviluppo di applicazioni web. In particolare, le applicazioni ibride mobili nonostante siano costruite con tecnologie web, possono essere distribuite tramite app store nativi per essere installate sui dispositivi mobili, grazie all'utilizzo di  Cordova o Capacitor. Inoltre, Ionic offre componenti grafiche ottimizzare per il \emph{mobile}.

\subsubsection*{Apache Cordova}
Cordova è un \gls{framework}\ap{[g]} \gls{open-source}\ap{[g]} per lo sviluppo di applicazioni \emph{mobile} multi-piattaforma, quindi sia per piattaforme \gls{Android} e sia per piattaforme \gls{iOS}. Esso consente di utilizzare tecnologie standard web come \gls{HTML}5, \gls{CSS}3 e JavaScript per lo sviluppo delle applicazioni \emph{mobile}, evitando di utilizzare il linguaggio nativo di ogni piattaforma \emph{mobile}. Inoltre, offre \gls{api}\ap{[g]} per accedere ai sensori del dispositivo come ad'esempio la fotocamera. Infatti, Cordova incapsula l'applicazione sviluppata con tecnologie web e la esegue localmente all’interno di un’applicazione nativa che può interagire con le funzionalità del dispositivo.

\subsubsection*{Protractor}
Protractor è un \gls{framework}\ap{[g]} di \emph{test} \gls{test e2e}\ap{[g]} per applicazioni Angular e AngularJS. Protractor permette di interagire con l'applicazione in \emph{testing}, come farebbe un utente attraverso dei metodi messi a disposizione da lui detti "localizzatori" .

\subsubsection*{Appium}
Appium è un \gls{framework}\ap{[g]} \gls{open-source}\ap{[g]} che permette di eseguire in modo automatizzato script per testare un'\gls{applicazione nativa}\ap{[g]} o un'\gls{applicazione web mobile}\ap{[g]} o un'\gls{applicazione ibrida}\ap{[g]} su un dispositivo \gls{Android}\ap{[g]} o \gls{iOS}\ap{[g]} utilizzando un \gls{api}\ap{[g]} detta \emph{API WebDriver}.

\subsubsection*{Cucumber}
Cucumber è un strumento che permette di creare \emph{test} automatizzati con una specifica non ambigua scritta nel linguaggio Gherkin. Gherkin è il linguaggio che Cucumber usa per definire i passi dei \emph{test}. È progettato per essere non tecnico e leggibile dall'uomo. Cucumber perciò con il suo linguaggio, permette definire la struttura dei \emph{test} dichiarando i vari passi da eseguire. Per questo Cucumber supporta la \gls{BDD}\glsfirstoccur. Inoltre Cucumber documenta come si comporta effettivamente il sistema

\subsubsection*{Selenium}
Selenium è un \gls{framework}\ap{[g]} \gls{open-source}\ap{[g]} che viene utilizzato per automatizzare i \emph{test} effettuati sui \gls{browser web}\ap{[g]} cioè le applicazioni web vengono testate utilizzando un qualsiasi \gls{browser web}\ap{[g]}. Selenium permette di eseguire \emph{test} scritti in vari linguaggi di programmazione, come C\# , Groovy , Java , Perl , \gls{PHP} , Python , Ruby e Scala, JavaScript ecc. Grazie all'utilizzo di un set di \gls{api}\ap{[g]} detto \emph{WebDriver}, i \emph{test} possono essere eseguiti sulla maggior parte dei browser Web moderni.

\subsubsection*{Npm}
Npm è un gestore di pacchetti per il linguaggio di programmazione JavaScript. È il gestore di pacchetti predefinito per l'ambiente di \emph{runtime} JavaScript Node.js. Consiste in un \gls{client}\ap{[g]} da linea di comando, chiamato anch'esso npm, e un \gls{database}\ap{[g]} online di pacchetti pubblici e privati.

\subsection{Strumenti}

\subsubsection*{WebStorm}
WebStorm è un ambiente di sviluppo integrato progettato per lo sviluppo web, principalmente in JavaScript e TypeScript. Supporta comunque, altri linguaggi per lo sviluppo di applicazioni web come ad esempio \gls{HTML}, \gls{CSS}, e \gls{PHP}.

\subsubsection{Jira Software}
È un software proprietario che consente il \emph{bug tracking} e la gestione dei progetti agile sviluppato da Atlassian.

\subsubsection{Jira Confluence}
È una piattaforma collaborativa sviluppata da Atlassian e scritta in Java, dove vengono forniti i strumenti per la scrittura e gestione della documentazione.

\subsubsection{GitLab}
È una piattaforma web \gls{open-source}\ap{[g]} che permette la gestione di \emph{repository Git} e di funzioni \emph{trouble ticket}.

\section{Motivazioni personali}
Attraverso la partecipazione all'iniziativa di StageIT, organizzata dall'Università di Padova e da Assindustria venetocentro, ho potuto entrare in contatto con molte aziende del territorio.
Durante la partecipazione telematica all'evento ero alla ricerca di un’azienda che proponesse un progetto di stage con le seguenti caratteristiche:

\begin{itemize}
	\item permettermi di ampliare e migliorare le mie conoscenze in Angular ma più in generale a imparare a utilizzare nuove tecnologie per lo sviluppo \gls{front-end}\ap{[g]};
	\item che trattasse tematiche legate allo sviluppo di applicazioni \emph{mobile};
	\item permettermi di lavorare in un ambiente giovane e dinamico.
	
\end{itemize}  

Confrontando con le varie aziende con cui ero entrato in contatto ho scelto di accettare lo stage proposto da AzzurroDigitale. \\

Questo perché nella loro proposta di stage c'erano tutti i tre punti elencati prima, infatti grazie a questo progetto di stage ho avuto modo di migliorarmi nell’utilizzo di Angular, imparando a utilizzare i metodi offerti da esso in modo più efficiente. Inoltre, ho avuto la possibilità di sviluppare un’applicazione \emph{mobile} grazie all'utilizzo di Ionic e Cordova. Altro aspetto importante fu che quest'azienda si distingue dal fatto che per gestire i propri progetti utilizza la metodologia agile \gls{SCRUM}, una tematica che mi interessava scoprire per poter essere una valida alternativa al modello incrementale appresso durante il progetto del corso di Ingegneria del Software. Infine, l'azienda è una realtà giovane nata da meno di cinque anni fatta da persone giovani in cui potevo inserirmi facilmente.
